{{- $site := .Site -}}
{{- $siteDesc := $site.Params.description | default $site.Title -}}
{{- $pageDesc := partial "utils/page-description.html" . | default $siteDesc -}}
{{- $image := partial "seo/image.html" . -}}
{{- $title := "" -}}
{{- if .IsHome -}}
  {{- $title = printf "%s | %s" $site.Title $siteDesc -}}
{{- else -}}
  {{- $title = printf "%s | %s" (.Title | default $site.Title) $site.Title -}}
{{- end -}}
{{- $type := "website" -}}
{{- if and (not .IsHome) (or .IsPage (eq .Section "blog") .Params.isArticle) -}}
  {{- $type = "article" -}}
{{- end -}}
{{- $locale := replace $site.LanguageCode "-" "_" -}}

<meta property="og:title" content="{{ $title | htmlEscape }}"/>
<meta property="og:description" content="{{ $pageDesc | htmlEscape }}"/>
<meta property="og:url" content="{{ .Permalink }}"/>
<meta property="og:site_name" content="{{ $site.Title }}"/>
<meta property="og:type" content="{{ $type }}"/>
<meta property="og:locale" content="{{ $locale }}"/>
{{- if $image }}
<meta property="og:image" content="{{ $image }}"/>
{{- end }}
{{- if eq $type "article" }}
  {{- with .PublishDate }}
<meta property="article:published_time" content="{{ .Format "2006-01-02T15:04:05Z07:00" }}"/>
  {{- end }}
  {{- with .Lastmod }}
<meta property="article:modified_time" content="{{ .Format "2006-01-02T15:04:05Z07:00" }}"/>
  {{- end }}
  {{- with or .Params.author $site.Params.author.name }}
<meta property="article:author" content="{{ . }}"/>
  {{- end }}
{{- end }}
